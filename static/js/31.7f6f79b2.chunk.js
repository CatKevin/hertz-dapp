(this["webpackJsonphertz-finance-dapp"]=this["webpackJsonphertz-finance-dapp"]||[]).push([[31],{1171:function(e,t,n){"use strict";n.r(t);var r,c,o=n(16),a=n(25),s=n(61),i=n(0),j=n(50),l=n(787),b=n(1172),u=n(810),d=n(1131),p=n(1003),x=n(993),O=n(179);!function(e){e.ALL="all",e.CORE="core",e.COMMUNITY="community"}(r||(r={})),function(e){e.ACTIVE="active",e.PENDING="pending",e.CLOSED="closed"}(c||(c={}));var h,f,m,g,C,v,y,w,I,S,T,E=n(2),M=n(11),k=E.e.div(h||(h=Object(s.a)(["\n  background-color: ",";\n  padding-top: 16px;\n"])),(function(e){return e.theme.colors.input})),N=function(e){switch(e){case r.COMMUNITY:return 1;case r.ALL:return 2;case r.CORE:default:return 0}},L=function(e){var t=e.proposalType,n=e.onTypeChange;return Object(M.jsx)(k,{children:Object(M.jsxs)(j.R,{activeIndex:N(t),onItemClick:function(e){n(function(e){switch(e){case 1:return r.COMMUNITY;case 2:return r.ALL;default:return r.CORE}}(e))},children:[Object(M.jsx)(j.Q,{children:Object(M.jsxs)(j.x,{alignItems:"center",children:[Object(M.jsx)(j.W,{color:"currentColor",mr:"4px"}),"Core"]})}),Object(M.jsxs)(j.Q,{children:[" ",Object(M.jsxs)(j.x,{alignItems:"center",children:[Object(M.jsx)(j.v,{color:"currentColor",mr:"4px"}),"Community"]})]}),Object(M.jsx)(j.Q,{children:"All"})]})})},D=Object(E.e)(j.x).attrs({alignItems:"center"})(f||(f=Object(s.a)(["\n  border-bottom: 1px solid ",";\n  padding: 16px 24px;\n"])),(function(e){return e.theme.colors.borderColor})),Y=E.e.label(m||(m=Object(s.a)(["\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  margin-right: 16px;\n"]))),z=[{value:c.ACTIVE,label:"Vote Now"},{value:c.PENDING,label:"Soon"},{value:c.CLOSED,label:"Closed"}],A=function(e){var t=e.filterState,n=e.onFilterChange,r=e.isLoading;return Object(M.jsx)(D,{children:z.map((function(e){var c=e.value,o=e.label;return Object(M.jsxs)(Y,{children:[Object(M.jsx)(j.M,{scale:"sm",value:c,checked:t===c,onChange:function(e){var t=e.currentTarget.value;n(t)},disabled:r}),Object(M.jsx)(j.T,{ml:"8px",children:o})]},o)}))})},P=n(1174),H=n(742),U="leekdao.eth",F=["0xc0e9ec12f342b279676F8f0Cb4268B2F147F1cfB","0x597737d15b4371B10b6Fc5647903AB775E214864"],V=Object(H.a)(g||(g=Object(s.a)(['\n    query Proposals($state:String!) {\n    proposals(\n        first: 20,\n        skip: 0,\n        where: {\n            space_in: ["','"],\n            state:$state\n        },\n        orderBy: "created",\n        orderDirection: desc\n    ) {\n        id\n        title\n        start\n        end\n        state\n        author\n    }\n    }\n'])),U),B=function(e){return F.findIndex((function(t){return t===e}))>-1},Q=function(e,t){switch(t){case r.COMMUNITY:return e.filter((function(e){return!B(e.author)}));case r.CORE:return e.filter((function(e){return B(e.author)}));case r.ALL:default:return e}},R=n(1137),G=n(779),W=["isCoreProposal"],q=function(e){var t=e.proposalState;return t===c.ACTIVE?Object(M.jsx)(G.f,{}):t===c.PENDING?Object(M.jsx)(G.e,{}):Object(M.jsx)(G.a,{})},J=function(e){var t=e.isCoreProposal,n=Object(R.a)(e,W);return t?Object(M.jsx)(G.c,Object(o.a)({},n)):Object(M.jsx)(G.b,Object(o.a)({},n))},$=n(991),X=n.n($),_=Object(E.e)(j.x)(C||(C=Object(s.a)(["\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.colors.borderColor})),K=E.e.div(v||(v=Object(s.a)(["\n  ",":last-child {\n    border-bottom: 0;\n  }\n"])),_),Z=function(){return Object(M.jsx)(K,{children:X()(10).map((function(e){return Object(M.jsxs)(_,{alignItems:"center",justifyContent:"space-between",py:"16px",px:"24px",children:[Object(M.jsxs)(j.g,{style:{flex:1},children:[Object(M.jsx)(j.O,{height:"21px",width:"70%",mb:"4px"}),Object(M.jsx)(j.O,{height:"21px",width:"30%",mb:"4px"}),Object(M.jsx)(j.O,{height:"21px",width:"40%"})]}),Object(M.jsx)(j.O,{height:"32px",width:"32px"})]},e)}))})},ee=n(778),te=n.n(ee),ne=function(e){var t=e.startDate,n=e.endDate,r=e.proposalState,a={fontSize:"16px",color:"textSubtle",ml:"8px"};return r===c.CLOSED?Object(M.jsxs)(j.T,Object(o.a)(Object(o.a)({},a),{},{children:["Ended",Object(M.jsxs)("span",{children:[" ",te.a.utc(1e3*Number(n)).format("MMMM Do YYYY, HH:mm")," UTC"]})]})):r===c.PENDING?Object(M.jsxs)(j.T,Object(o.a)(Object(o.a)({},a),{},{children:["Starts",Object(M.jsxs)("span",{children:[" ",te.a.utc(1e3*Number(t)).format("MMMM Do YYYY, HH:mm")," UTC"]})]})):Object(M.jsxs)(j.T,Object(o.a)(Object(o.a)({},a),{},{children:["Ends",Object(M.jsxs)("span",{children:[" ",te.a.utc(1e3*Number(n)).format("MMMM Do YYYY, HH:mm")," UTC"]})]}))},re=E.e.div(y||(y=Object(s.a)(["\n  align-items: center;\n  border-bottom: 1px solid ",";\n  display: flex;\n  padding: 16px 24px;\n\n  &:hover {\n    background-color:#f7f7f7;\n    cursor:pointer;\n  }\n"])),(function(e){return e.theme.colors.borderColor})),ce=function(e){var t,n=e.state,r=e.type,c="https://vote.leekdao.xyz/#/".concat(U,"/proposal/"),o=Object(P.a)(V,{variables:{state:n}}).data,s=Object(i.useState)([]),l=Object(a.a)(s,2),b=l[0],u=l[1],d=Object(i.useState)(!1),p=Object(a.a)(d,2),x=p[0],O=p[1];return Object(i.useEffect)((function(){O(!0),o&&(u(o.proposals),O(!1))}),[o]),t=x?Object(M.jsx)(Z,{}):Q(b,r).length>0?Q(b,r).map((function(e){return Object(M.jsxs)(re,{onClick:function(){return t=c+e.id,void(window.open("about:blank").location.href=t);var t},children:[Object(M.jsxs)(j.g,{as:"span",style:{flex:1},children:[Object(M.jsx)(j.T,{bold:!0,mb:"8px",children:e.title}),Object(M.jsx)(j.x,{alignItems:"center",mb:"8px",children:Object(M.jsx)(ne,{startDate:e.start,endDate:e.end,proposalState:e.state})}),Object(M.jsxs)(j.x,{alignItems:"center",children:[Object(M.jsx)(q,{proposalState:e.state}),Object(M.jsx)("span",{style:{marginLeft:"8px"},children:Object(M.jsx)(J,{isCoreProposal:B(e.author)})})]})]}),Object(M.jsx)(j.A,{variant:"text",children:Object(M.jsx)(j.c,{width:"24px"})})]},e.id)})):Object(M.jsx)(j.x,{alignItems:"center",justifyContent:"center",p:"32px",children:Object(M.jsx)(j.z,{as:"h5",children:"No proposals found"})}),Object(M.jsx)("div",{children:t})},oe=Object(E.e)(j.B)(w||(w=Object(s.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.lg})),ae=Object(E.e)(j.g)(I||(I=Object(s.a)(["\n  background: ",";\n  padding-bottom: 32px;\n  padding-top: 32px;\n"])),(function(e){return e.theme.colors.gradients.bubblegum})),se=Object(E.e)(j.z).attrs({as:"h1",size:"xl"})(S||(S=Object(s.a)(["\n  color: ",";\n  margin-bottom: 24px;\n  margin-top:20px;\n"])),(function(e){return e.theme.colors.primary})),ie=function(){window.open("about:blank").location.href="https://vote.leekdao.xyz/#/leekdao.eth/create"},je=function(){return Object(M.jsx)(ae,{children:Object(M.jsx)(O.a,{children:Object(M.jsxs)(j.x,{alignItems:"center",justifyContent:"space-between",children:[Object(M.jsxs)(j.g,{pr:"32px",children:[Object(M.jsx)(se,{children:"Voting"}),Object(M.jsx)(j.z,{mb:"16px",children:"Have your say in the future of the Hertz Ecosystem"}),Object(M.jsx)(j.i,{onClick:ie,children:"Make a Proposal"})]}),Object(M.jsx)(oe,{src:"./images/voting/voting-presents.png",width:250,height:250})]})})})},le=Object(E.e)(j.z).attrs({as:"h1",size:"xl"})(T||(T=Object(s.a)(["\n  color: ",";\n  margin-bottom: 24px;\n  margin-top:20px;\n"])),(function(e){return e.theme.colors.secondary})),be=Object(x.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message,n=e.locations,r=e.path;return console.warn("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(r))})),n&&console.warn("[Network error]: ".concat(n))})),ue=Object(l.from)([be,new b.a({uri:"https://hub.snapshot.page/graphql"})]),de=new u.a({cache:new d.a,link:ue});t.default=function(){var e=Object(i.useState)({proposalType:r.CORE,filterState:c.ACTIVE}),t=Object(a.a)(e,2),n=t[0],s=t[1],l=n.proposalType,b=n.filterState;return Object(M.jsxs)(p.a,{client:de,children:[Object(M.jsx)(je,{}),Object(M.jsxs)(O.a,{children:[Object(M.jsx)(le,{children:"Proposals"}),Object(M.jsxs)(j.m,{children:[Object(M.jsx)(L,{proposalType:l,onTypeChange:function(e){s((function(t){return Object(o.a)(Object(o.a)({},t),{},{proposalType:e})}))}}),Object(M.jsx)(A,{filterState:b,onFilterChange:function(e){s((function(t){return Object(o.a)(Object(o.a)({},t),{},{filterState:e})}))},isLoading:!1}),Object(M.jsx)(ce,{state:b,type:l})]})]})]})}},779:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return b}));var r=n(16),c=(n(0),n(50)),o=n(11),a=function(){return Object(o.jsx)(c.S,{variant:"success",outline:!0,startIcon:Object(o.jsx)(c.W,{}),children:"No Fees"})},s=function(e){return Object(o.jsx)(c.S,Object(r.a)(Object(r.a)({variant:"secondary",outline:!0,startIcon:Object(o.jsx)(c.W,{width:"18px",color:"secondary",mr:"4px"})},e),{},{children:"Core"}))},i=function(e){return Object(o.jsx)(c.S,Object(r.a)(Object(r.a)({variant:"failure",outline:!0,startIcon:Object(o.jsx)(c.v,{width:"18px",color:"failure",mr:"4px"})},e),{},{children:"Community"}))},j=function(){return Object(o.jsx)(c.S,{variant:"success",startIcon:Object(o.jsx)(c.X,{}),children:"Vote Now"})},l=function(){return Object(o.jsx)(c.S,{variant:"binance",startIcon:Object(o.jsx)(c.U,{}),children:"Soon"})},b=function(){return Object(o.jsx)(c.S,{variant:"textDisabled",startIcon:Object(o.jsx)(c.f,{}),children:"Closed"})}}}]);
//# sourceMappingURL=31.7f6f79b2.chunk.js.map